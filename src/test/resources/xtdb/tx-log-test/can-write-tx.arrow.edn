{:schema
 #xt/schema (["tx-ops"
              :list
              ["$data$"
               :union
               ["put-docs"
                :struct
                ["iids" :list ["$data$" [:fixed-size-binary 16]]]
                ["documents"
                 :union
                 ["public/device_info"
                  :list
                  ["$data$"
                   :struct
                   ["_id" :utf8]
                   ["api_version" :utf8]
                   ["manufacturer" :utf8]
                   ["model" :utf8]
                   ["os_name" :utf8]]]
                 ["public/device_readings"
                  :list
                  ["$data$"
                   :struct
                   ["cpu_avg_15min" :f64]
                   ["device_id" :utf8]
                   ["rssi" :f64]
                   ["cpu_avg_5min" :f64]
                   ["battery_status" :utf8]
                   ["ssid" :utf8]
                   ["time" [:timestamp-tz :micro "UTC"]]
                   ["battery_level" :f64]
                   ["bssid" :utf8]
                   ["battery_temperature" :f64]
                   ["cpu_avg_1min" :f64]
                   ["_id" :utf8]
                   ["mem_free" :f64]
                   ["mem_used" :f64]]]]
                ["_valid_from" [:timestamp-tz :micro "UTC"] :?]
                ["_valid_to" [:timestamp-tz :micro "UTC"] :?]]]]
             ["system-time" [:timestamp-tz :micro "UTC"] :?]
             ["default-tz" :utf8 :?]
             ["user" :utf8 :?]),
 :data
 [{:tx-ops
   [#xt/tagged [:put-docs
                {:iids [#bytes "ef4f71005524e9af20ffaca545cde6e1"],
                 :documents
                 #xt/tagged [:public/device_info
                             [{:xt/id "device-info-demo000000",
                               :api-version "23",
                               :manufacturer "iobeam",
                               :model "pinto",
                               :os-name "6.0.1"}]]}]
    #xt/tagged [:put-docs
                {:iids [#bytes "58941814a63f68d05acf4177ec17d3ba"],
                 :documents
                 #xt/tagged [:public/device_readings
                             [{:cpu-avg-15min 8.654,
                               :device-id "device-info-demo000000",
                               :rssi -50.0,
                               :cpu-avg-5min 10.802,
                               :battery-status "discharging",
                               :ssid "demo-net",
                               :time #xt/zdt "2016-11-15T12:00Z[UTC]",
                               :battery-level 59.0,
                               :bssid "01:02:03:04:05:06",
                               :battery-temperature 89.5,
                               :cpu-avg-1min 24.81,
                               :xt/id "reading-demo000000",
                               :mem-free 4.10011078E8,
                               :mem-used 5.89988922E8}]]}]
    #xt/tagged [:put-docs
                {:iids [#bytes "248daaa010bf702848523e4fa63f996c"],
                 :documents
                 #xt/tagged [:public/device_info
                             [{:xt/id "device-info-demo000001",
                               :api-version "23",
                               :manufacturer "iobeam",
                               :model "mustang",
                               :os-name "6.0.1"}]]}]
    #xt/tagged [:put-docs
                {:iids [#bytes "6bd5602dd9300d63410ca07b677f0041"],
                 :documents
                 #xt/tagged [:public/device_readings
                             [{:cpu-avg-15min 8.822,
                               :device-id "device-info-demo000001",
                               :rssi -61.0,
                               :cpu-avg-5min 8.106,
                               :battery-status "discharging",
                               :ssid "stealth-net",
                               :time #xt/zdt "2016-11-15T12:00Z[UTC]",
                               :battery-level 86.0,
                               :bssid "A0:B1:C5:D2:E0:F3",
                               :battery-temperature 93.7,
                               :cpu-avg-1min 4.93,
                               :xt/id "reading-demo000001",
                               :mem-free 7.20742332E8,
                               :mem-used 2.79257668E8}]]}]]}]}
